#:import Factory kivy.factory.Factory
<MyPopup@Popup>:
    id:chooserPopup
    auto_dismiss:True
    title:"Export as "
    BoxLayout:
        size:root.size
        pos:root.pos
        orientation:"vertical"
        FileChooserIconView:
            id: filechooser
        Button:
            text:"Save"
            font_size:24
            size_hint: 0.15,0.1
            on_release:root.fxport()
            on_press:root.dismiss()
        TextInput:
            id:chooserName
            text:"default.png"
            font_size:16
            size_hint:0.15,0.1
<MyBoxLayout>:
    canvas:
        Color:
            rgba: 0.5, 0.5, 0.5, 0.5
        Rectangle: #woohoo!!!
            size: self.size
            pos: self.pos
    BoxLayout:
        orientation: 'vertical'
        size:root.width,root.height
        padding:'25dp'
        spacing:10
        BoxLayout:
            orientation: 'horizontal'
            size_hint:(1,0.15)
            BoxLayout:
                orientation:'vertical'
                pos_hint:{'top':1}
                size_hint:(0.15,0.5*2)
                Button:
                    id:browseButton
                    text: 'Browse'
                    #on_press:root.exportImage()
                    pos_hint:{'top':1}
                    size_hint:(1,1)
                    on_press: Factory.MyPopup().open()
                    on_release:root.changePathLabel()
                Label:
                    id:pathLabel
                    text:"path:"
                    font_size:'10sp'
                    pos_hint:{'top':1}
                    size_hint:(1,1)
                    size: root.size

            Button:
                id:exportID
                text: 'Save'
                #on_press:root.exportImage()
                pos_hint:{'top':1}
                size_hint:(0.15,0.5)
                on_press: root.saveButton()

            ToggleButton:
                id: clearButtonID
                text: 'Clear'
                pos_hint:{'top':1}
                size_hint:(0.15,0.5)
                on_press:root.makeAllButtonsUp(clearButtonID)
            ToggleButton:
                id:node_button
                pos_hint:{'top':1}
                size_hint:(0.15,0.5)
                on_press:root.makeAllButtonsUp(node_button)
                Image:
                    pos_hint_y : None
                    source: 'node.png'
                    center_y: (self.parent.y + self.parent.height/2)
                    center_x: self.parent.x + self.parent.width/2
                    size: 25,25
                    allow_stretch: True

            ToggleButton:
                id:rightArrowID
                pos_hint:{'top':1}
                size_hint:(0.15,0.5)
                on_press:root.makeAllButtonsUp(rightArrowID)
                Image:
                    pos_hint_y : None
                    source: 'right-arrow.png'
                    center_y: (self.parent.y + self.parent.height/2)
                    center_x: self.parent.x + self.parent.width/2
                    size: 25,25
                    allow_stretch: True
            ToggleButton:
                id:doubleArrowID
                pos_hint:{'top':1}
                size_hint:(0.15,0.5)
                on_press:root.makeAllButtonsUp(doubleArrowID)
                Image:
                    pos_hint_y : None
                    source: 'double-arrow.png'
                    center_y: (self.parent.y + self.parent.height/2)
                    center_x: self.parent.x + self.parent.width/2
                    size: 100,100
                    allow_stretch: True
            # Button:
            #     pos_hint:{'top':1}
            #     size_hint:(0.15,0.5)
            #     Image:
            #         pos_hint_y : None
            #         source: 'right-arrow.png'
            #         center_y: (self.parent.y + self.parent.height/2)
            #         center_x: self.parent.x + self.parent.width/2
            #         size: 25,25
            #         allow_stretch: True
            TextInput:
                id:textBoxID
                multiline:False
                pos_hint:{'top':1}
                size_hint:(0.25,0.50) 
            Spinner:
                id: algorithm_spinner
                text:'Algorithm: '
                values: ["A*","Greedy","Breadth first search","Depth first search","Uniformed cost search","IDS"]
                pos_hint:{'top':1}
                size_hint:(0.45,0.5)
                on_text: root.spinner_clicked(algorithm_spinner.text)
            Button:
                spacing:5
                pos_hint:{'top':1}
                size_hint:(0.15,0.5)
                on_press:root.solve()
                background_color:0,2,0,1

                Image:
                    pos_hint_y : None
                    source: 'play.png'
                    center_y: (self.parent.y + self.parent.height/2)
                    center_x: self.parent.x + self.parent.width/2
                    size: 20,20
                    allow_stretch: True
            Button:
                text:'Reset'
                pos_hint:{'top':1}
                size_hint:(0.15,0.5)
                on_press:root.clearStuff()
                background_color:2,0,0,1
            Slider:
                id:mySlider
                pos_hint:{'top':1}
                size_hint:(0.3,0.5)
                min:0
                max:100
                value:20
                step:1
                orientation:"horizontal"
                on_value:root.updateValue(*args)

            
        
        
        
        
        
        FloatLayout:
            size_hint:(1,0.85)
            id:canvasID
            canvas:
                Color:
                    rgba: 1,1,1,1
                Rectangle: #woohoo!!!
                    size: self.size
                    pos: self.pos
           


